@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", Inter, "Helvetica Neue", Helvetica, "PingFang SC", "HarmonyOS Sans SC", "MiSans", "OPPOSans", "Noto Sans SC", "Source Han Sans SC", "Hiragino Sans GB", "Segoe UI", Roboto, Arial, sans-serif;
}

/* Shimmer loading animation for placeholder images */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 1.5s ease-in-out infinite;
}

/* ProductCard组件样式 - 基于线上设计规范 */

/* 基础CSS变量定义 - 调整为线上实际尺寸 */
:root {
  --price-color: #ff1a2d;
  --light-font-color: #fa1942;
  --gray-font-color: #888b94;
  --text-color-main: #1a1a1a;
  --adm-font-size-4: 12px;
  --adm-font-size-5: 13px;
  --adm-font-size-6: 14px;
  --adm-font-size-7: 15px;
  --adm-font-size-8: 16px;
  --adm-color-text: #333;
  --adm-color-text-secondary: #666;
  --adm-color-weak: #999;
  --scale-factor: 1;
}

/* ProductCard主容器 */
.skus-wrap {
  display: flex;
  position: relative;
  width: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", Inter, "Helvetica Neue", Helvetica, "PingFang SC", "HarmonyOS Sans SC", "MiSans", "OPPOSans", "Noto Sans SC", "Source Han Sans SC", "Hiragino Sans GB", "Segoe UI", Roboto, Arial, sans-serif;
  font-size: 18px;
  line-height: normal;
  color: #000;
  padding: 2px 0 0;
}

/* Swiper容器样式 */
.adm-swiper {
  position: relative;
  overflow: hidden;
  width: 100%;
}

.adm-swiper-track {
  display: flex;
  width: 100%;
}

.adm-swiper-track-inner {
  display: flex;
  width: 100%;
  transition: transform 0.3s ease;
}

.adm-swiper-slide {
  flex-shrink: 0;
  width: 100%;
}

.adm-swiper-item {
  width: 100%;
}

/* 商品卡片容器 */
.sku-item-wrap {
  width: 100%;
}

.normal-product-card-container {
  display: flex;
  width: 100%;
  background: #fff;
  padding: 2px;
  gap: 2px;
}

/* 商品图片区域 */
.main-img-view {
  flex-shrink: 0;
  width: 110px;
  height: 110px;
}

.sku-img-c {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 6px;
  overflow: hidden;
  background: #f5f5f5;
}

.sku-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.sku-img-mask {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

/* 商品内容区域 */
.content-view {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  min-width: 0;
  gap: 3px;
}

/* 商品标题区域 */
.main-title {
  flex: 0 0 auto;
  margin-left: 5px;
}

.main_container {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.4;
  font-size: var(--adm-font-size-6);
  color: var(--text-color-main);
  font-weight: 500;
  max-height: calc(1.4em * 2);
}

/* 品牌标签 */
.tags {
  display: inline;
}

.tags_element_container {
  display: inline-block;
  margin-right: 2px;
  vertical-align: top;
}

.icon_tag {
  width: 30px;
  height: 15px;
  vertical-align: top;
  border-radius: 3px;
}

/* 种草理由 */
.reason {
  font-size: var(--adm-font-size-4);
  line-height: 1.3;
  margin: 2px 0 0 4px;
  color: rgb(140, 140, 140);
}

/* 标签行 */
.tagsLine {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 2px 0 4px 0;
  min-height: 18px;
}

.tags_element {
  flex: 1;
}

/* AI评价 */
.ai_comment {
  display: flex;
  align-items: center;
  font-size: var(--adm-font-size-4);
  color: var(--light-font-color);
  cursor: pointer;
  gap: 1px;
}

.ai_comment .arrow {
  width: 10px;
  height: 10px;
  opacity: 0.8;
}

/* 价格区域 */
.priceLine {
  margin-top: auto;
}

.price_element {
  display: flex;
  align-items: flex-end;
  gap: 6px;
}

.price_element_container {
  display: flex;
  align-items: flex-end;
  margin-left: 5px;
  gap: 6px;
  flex: 1;
}

.main_price {
  display: flex;
  align-items: flex-end;
}

.price_container {
  display: flex;
  align-items: flex-end;
  gap: 2px;
}

.price_unit {
  font-size: var(--adm-font-size-5);
  color: var(--price-color);
  font-weight: 600;
  line-height: 1;
}

.price_number {
  font-size: var(--adm-font-size-8);
  color: var(--price-color);
  font-weight: 700;
  line-height: 1;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, "Segoe UI", Arial, Roboto, sans-serif;
}

.sub_price {
  font-size: var(--adm-font-size-4);
  color: var(--adm-color-text-secondary);
  line-height: 1.2;
  margin-left: 4px;
}

/* 关闭导航图标样式 */
.close-nav-icon {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.close-nav-icon img {
  width: 16px;
  height: 16px;
  object-fit: contain;
}

.close-nav-icon.touch:hover {
  opacity: 0.7;
  transition: opacity 0.2s ease;
}

/* 流式显示：新内容淡入高亮与遮罩 */
.reveal-mask {
  position: relative;
}
.reveal-fade {
  position: absolute;
  left: 0;
  right: 0;
  bottom: -2px;
  height: 28px;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 80%);
}
.reveal-highlight {
  animation: revealFade 900ms ease-out;
}
@keyframes revealFade {
  0% { background-color: rgba(254, 240, 138, 0.8); }
  100% { background-color: transparent; }
}

/* 闪烁光标（流式） */
.typing-caret {
  display: inline-block;
  width: 1px;
  height: 1em;
  vertical-align: -0.1em;
  margin-left: 2px;
  background-color: currentColor;
  animation: caretBlink 1s steps(2, start) infinite;
}

/* Midnight theme markdown readability */
/* Liquid Glass helper styles */
.lg-wrap {
  position: relative;
  border-radius: var(--lg-radius, 16px);
  background: color-mix(in oklab, var(--lg-tint, #ffffff) 42%, transparent);
  -webkit-backdrop-filter: blur(var(--lg-blur, 18px)) saturate(1.1);
  backdrop-filter: blur(var(--lg-blur, 18px)) saturate(1.1);
  border: 1px solid rgba(255, 255, 255, var(--lg-border-alpha, 0.5));
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.45),
    0 10px 20px rgba(16, 24, 40, 0.06);
  overflow: hidden;
}
.lg-wrap::before {
  content: "";
  position: absolute;
  inset: -30% -30% auto -30%;
  height: 140%;
  background: radial-gradient(60% 60% at 0% 0%, rgba(255,255,255,0.6), transparent 60%),
              radial-gradient(40% 40% at 100% 0%, rgba(255,255,255,0.25), transparent 60%);
  transform: translateY(-10%);
  pointer-events: none;
  animation: var(--lg-shine-speed, 10s) linear infinite lg-shine;
}
.lg-wrap::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22 viewBox=%220 0 100 100%22><filter id=%22n%22><feTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%221%22 stitchTiles=%22stitch%22/></filter><rect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23n)%22 opacity=%220.02%22/></svg>');
  background-size: 200px 200px;
  mix-blend-mode: overlay;
  pointer-events: none;
}
@keyframes lg-shine {
  0% { transform: translate(-10%, -10%); }
  50% { transform: translate(10%, 10%); }
  100% { transform: translate(-10%, -10%); }
}
@keyframes caretBlink {
  0%, 50% { opacity: 1; }
  50.01%, 100% { opacity: 0; }
}

/* ----------------------------- */
/* Per-style markdown typography */
/* ----------------------------- */
.mdx-typography {
  font-size: 14.5px;
  line-height: 1.65;
  letter-spacing: 0.1px;
}
.mdx-typography p { margin: 8px 0 10px; }
.mdx-typography ul, .mdx-typography ol { margin: 8px 0 10px; padding-left: 1.1rem; }
.mdx-typography li { margin: 4px 0; }
.mdx-typography h1, .mdx-typography h2, .mdx-typography h3 { line-height: 1.35; letter-spacing: 0.2px; }
.mdx-typography h1 { font-size: 18px; font-weight: 700; margin: 10px 0 8px; }
.mdx-typography h2 { font-size: 16px; font-weight: 650; margin: 10px 0 6px; }
.mdx-typography h3 { font-size: 15px; font-weight: 600; margin: 8px 0 4px; }
.mdx-typography blockquote {
  margin: 10px 0;
  padding: 6px 10px;
  border-left: 3px solid rgba(0,0,0,0.08);
  background: rgba(0,0,0,0.02);
}
.mdx-typography code { font-size: 0.92em; }
.mdx-typography pre { margin: 10px 0; }

/* Edge: 更沉浸、更疏朗 */
.mdx-edge { font-size: 15px; line-height: 1.72; }
.mdx-edge p { margin: 10px 0 14px; }
.mdx-edge h1 { font-size: 19px; font-weight: 760; margin-top: 14px; }
.mdx-edge h2 { font-size: 17px; font-weight: 690; margin-top: 12px; }
.mdx-edge h3 { font-size: 15.5px; font-weight: 620; }
.mdx-edge ul, .mdx-edge ol { margin: 10px 0 12px; }

/* Cards: 卡片内更紧凑，信息密度更高 */
.mdx-cards { font-size: 14.5px; line-height: 1.64; }
.mdx-cards p { margin: 8px 0 10px; }
.mdx-cards h1 { font-size: 18px; font-weight: 700; margin: 10px 0 8px; }
.mdx-cards h2 { font-size: 16px; font-weight: 650; margin: 8px 0 6px; }
.mdx-cards h3 { font-size: 14.5px; font-weight: 600; margin: 6px 0 4px; }
.mdx-cards ul, .mdx-cards ol { margin: 8px 0 10px; }

/* Bubble: 聊天气泡内更紧凑、更口语化 */
.mdx-bubble { font-size: 14px; line-height: 1.58; }
.mdx-bubble p { margin: 6px 0 8px; }
.mdx-bubble h1 { font-size: 16px; font-weight: 700; margin: 8px 0 6px; }
.mdx-bubble h2 { font-size: 15px; font-weight: 650; margin: 6px 0 4px; }
.mdx-bubble h3 { font-size: 14px; font-weight: 600; margin: 4px 0 4px; }
.mdx-bubble ul, .mdx-bubble ol { margin: 6px 0 8px; padding-left: 1rem; }
